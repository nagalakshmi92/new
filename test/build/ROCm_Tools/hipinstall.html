

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>build from source &mdash; ReadTheDocs-Breathe 1.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> ReadTheDocs-Breathe
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../ROCm.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Current_Release_Notes/Current-Release-Notes.html">Current Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Installation_Guide/Installation-Guide.html">ROCm Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Programming_Guides/Programming-Guides.html">Programming Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROCm_GPU_Tunning_Guides/ROCm-GPU-Tunning-Guides.html">ROCm GPU Tuning Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GCN_ISA_Manuals/GCN-ISA-Manuals.html">GCN ISA Manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROCm_API_References/ROCm-API-References.html">ROCm API References</a></li>
<li class="toctree-l1"><a class="reference internal" href="ROCm-Tools.html">ROCm Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROCm_Libraries/ROCm_Libraries.html">ROCm Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROCm_Compiler_SDK/ROCm-Compiler-SDK.html">ROCm Compiler SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROCm_System_Managment/ROCm-System-Managment.html">ROCm System Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROCm_Virtualization_Containers/ROCm-Virtualization-&amp;-Containers.html">ROCm Virtualization &amp; Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Remote_Device_Programming/Remote-Device-Programming.html">Remote Device Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Deep_learning/Deep-learning.html">Deep Learning on ROCm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Other_Solutions/Other-Solutions.html">System Level Debug</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorial/Tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROCm_Glossary/ROCm-Glossary.html">ROCm Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ReadTheDocs-Breathe</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>build from source</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/ROCm_Tools/hipinstall.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="build-from-source">
<span id="hipinstall"></span><h1>build from source<a class="headerlink" href="#build-from-source" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installing-pre-built-packages">
<h2>Installing pre-built packages<a class="headerlink" href="#installing-pre-built-packages" title="Permalink to this headline">¶</a></h2>
<p>HIP can be easily installed using pre-built binary packages using the package manager for your platform.</p>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>HIP code can be developed either on AMD ROCm platform using hcc compiler, or a CUDA platform with nvcc installed:</p>
</div>
<div class="section" id="amd-hcc">
<h2>AMD-hcc<a class="headerlink" href="#amd-hcc" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p class="first">Install the <a class="reference external" href="http://rocm-documentation.readthedocs.io/en/latest/Installation_Guide/Installation-Guide.html#installation-guide-ubuntu">rocm</a> packages. ROCm will install all of the necessary components, including the kernel driver, runtime software, HCC         compiler, and HIP.</p>
</li>
<li><p class="first">Default paths and environment variables:</p>
<blockquote>
<div><ul class="simple">
<li>By default HIP looks for hcc in /opt/rocm/hcc (can be overridden by setting HCC_HOME environment variable)</li>
<li>By default HIP looks for HSA in /opt/rocm/hsa (can be overridden by setting HSA_PATH environment variable)</li>
<li>By default HIP is installed into /opt/rocm/hip (can be overridden by setting HIP_PATH environment variable).</li>
<li>Optionally, consider adding /opt/rocm/bin to your PATH to make it easier to use the tools.</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="nvidia-nvcc">
<h2>NVIDIA-nvcc<a class="headerlink" href="#nvidia-nvcc" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Configure the additional package server as described <a class="reference external" href="https://gpuopen.com/getting-started-with-boltzmann-components-platforms-installation/">here</a>.</li>
<li>Install the “hip_nvcc” package. This will install CUDA SDK and the HIP porting layer.</li>
</ul>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">hip_nvcc</span>

<span class="o">*</span> <span class="n">Default</span> <span class="n">paths</span> <span class="ow">and</span> <span class="n">environment</span> <span class="n">variables</span><span class="p">:</span>
    <span class="o">*</span> <span class="n">By</span> <span class="n">default</span> <span class="n">HIP</span> <span class="n">looks</span> <span class="k">for</span> <span class="n">CUDA</span> <span class="n">SDK</span> <span class="ow">in</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">cuda</span> <span class="p">(</span><span class="n">can</span> <span class="n">be</span> <span class="n">overriden</span> <span class="n">by</span> <span class="n">setting</span> <span class="n">CUDA_PATH</span> <span class="n">env</span> <span class="n">variable</span><span class="p">)</span>
    <span class="o">*</span> <span class="n">By</span> <span class="n">default</span> <span class="n">HIP</span> <span class="ow">is</span> <span class="n">installed</span> <span class="n">into</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">rocm</span><span class="o">/</span><span class="n">hip</span> <span class="p">(</span><span class="n">can</span> <span class="n">be</span> <span class="n">overridden</span> <span class="n">by</span> <span class="n">setting</span> <span class="n">HIP_PATH</span> <span class="n">environment</span> <span class="n">variable</span><span class="p">)</span><span class="o">.</span>
    <span class="o">*</span> <span class="n">Optionally</span><span class="p">,</span> <span class="n">consider</span> <span class="n">adding</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">rocm</span><span class="o">/</span><span class="nb">bin</span> <span class="n">to</span> <span class="n">your</span> <span class="n">path</span> <span class="n">to</span> <span class="n">make</span> <span class="n">it</span> <span class="n">easier</span> <span class="n">to</span> <span class="n">use</span> <span class="n">the</span> <span class="n">tools</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="verify-your-installation">
<h2>Verify your installation<a class="headerlink" href="#verify-your-installation" title="Permalink to this headline">¶</a></h2>
<p>Run hipconfig (instructions below assume default installation path) :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">rocm</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">hipconfig</span> <span class="o">--</span><span class="n">full</span>
<span class="n">Compile</span> <span class="ow">and</span> <span class="n">run</span> <span class="n">the</span> <span class="n">square</span> <span class="n">sample</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="building-hip-from-source">
<h2>Building HIP from source<a class="headerlink" href="#building-hip-from-source" title="Permalink to this headline">¶</a></h2>
<p>HIP source code is available and the project can be built from source on the HCC platform.</p>
<blockquote>
<div><ol class="arabic simple">
<li>Follow the above steps to install and validate the binary packages.</li>
<li>Download HIP source code (from the GitHub repot.)</li>
<li>Install HIP build-time dependencies using sudo apt-get install libelf-dev.</li>
<li>Build and install HIP (This is the simple version assuming default paths ; see below for additional options.)</li>
</ol>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">HIP</span>
<span class="n">mkdir</span> <span class="n">build</span>
<span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">..</span>
<span class="n">make</span>
<span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
<ul class="simple">
<li><dl class="first docutils">
<dt>Default paths:</dt>
<dd><ul class="first last">
<li>By default cmake looks for hcc in /opt/rocm/hcc (can be overridden by setting -DHCC_HOME=/path/to/hcc in the cmake step).*</li>
<li>By default cmake looks for HSA in /opt/rocm/hsa (can be overridden by setting -DHSA_PATH=/path/to/hsa in the cmake step).*</li>
<li>By default cmake installs HIP to /opt/rocm/hip (can be overridden by setting -DCMAKE_INSTALL_PREFIX=/where/to/install/hip in the      cmake step).*</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Here’s a richer command-line that overrides the default paths:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">HIP</span>
<span class="n">mkdir</span> <span class="n">build</span>
<span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">-</span><span class="n">DHSA_PATH</span><span class="o">=/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">hsa</span> <span class="o">-</span><span class="n">DHCC_HOME</span><span class="o">=/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">hcc</span> <span class="o">-</span><span class="n">DCMAKE_INSTALL_PREFIX</span><span class="o">=/</span><span class="n">where</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">install</span><span class="o">/</span><span class="n">hip</span> <span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Release</span> <span class="o">..</span>
<span class="n">make</span>
<span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
<p>After installation, make sure HIP_PATH is pointed to /where/to/install/hip.
HCC Options</p>
</div>
<div class="section" id="using-hip-with-the-amd-native-gcn-compiler">
<h2>Using HIP with the AMD Native-GCN compiler.<a class="headerlink" href="#using-hip-with-the-amd-native-gcn-compiler" title="Permalink to this headline">¶</a></h2>
<p>AMD recently released a direct-to-GCN-ISA target. This compiler generates GCN ISA directly from LLVM, without going through an intermediate compiler IR such as HSAIL or PTX. The native GCN target is included with upstream LLVM, and has also been integrated with HCC compiler and can be used to compiler HIP programs for AMD. Binary packages for the direct-to-isa package are included with the rocm package. Alternatively, this sections describes how to build it from source:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Install the ROCm packages as described above.</p>
</li>
<li><dl class="first docutils">
<dt>Follow the instructions here <a class="reference internal" href="HCC-Native-GCN-ISA.html#hcc-native-gcn-isa"><span class="std std-ref">HCC-Native-GCN-ISA</span></a></dt>
<dd><ul class="first last simple">
<li>In the make step for HCC, we recommend setting -DCMAKE_INSTALL_PREFIX.</li>
<li>Set HCC_HOME environment variable before compiling HIP program to point to the native compiler:</li>
</ul>
</dd>
</dl>
<p>export HCC_HOME=/path/to/native/hcc</p>
</li>
</ol>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Thomas Edvalson.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>