

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ROCm Languages &mdash; ReadTheDocs-Breathe 1.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> ReadTheDocs-Breathe
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../ROCm.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Current_Release_Notes/Current-Release-Notes.html">Current Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Installation_Guide/Installation-Guide.html">ROCm Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="Programming-Guides.html">Programming Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROCm_GPU_Tunning_Guides/ROCm-GPU-Tunning-Guides.html">ROCm GPU Tuning Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GCN_ISA_Manuals/GCN-ISA-Manuals.html">GCN ISA Manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROCm_API_References/ROCm-API-References.html">ROCm API References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROCm_Tools/ROCm-Tools.html">ROCm Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROCm_Libraries/ROCm_Libraries.html">ROCm Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROCm_Compiler_SDK/ROCm-Compiler-SDK.html">ROCm Compiler SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROCm_System_Managment/ROCm-System-Managment.html">ROCm System Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROCm_Virtualization_Containers/ROCm-Virtualization-&amp;-Containers.html">ROCm Virtualization &amp; Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Remote_Device_Programming/Remote-Device-Programming.html">Remote Device Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Deep_learning/Deep-learning.html">Deep Learning on ROCm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Other_Solutions/Other-Solutions.html">System Level Debug</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorial/Tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROCm_Glossary/ROCm-Glossary.html">ROCm Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ReadTheDocs-Breathe</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>ROCm Languages</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Programming_Guides/LanguageInto.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rocm-languages">
<span id="languageintro"></span><h1>ROCm Languages<a class="headerlink" href="#rocm-languages" title="Permalink to this headline">¶</a></h1>
<div class="section" id="rocm-lingua-franca-c-opencl-and-python">
<h2>ROCm, Lingua Franca,  C++, OpenCL and Python<a class="headerlink" href="#rocm-lingua-franca-c-opencl-and-python" title="Permalink to this headline">¶</a></h2>
<p>The open-source ROCm stack offers multiple programming-language choices. The goal is to give you a range of tools to help solve the
problem at hand. Here, we describe some of the options and how to choose among them.</p>
</div>
<div class="section" id="hcc-heterogeneous-compute-compiler">
<h2>HCC: Heterogeneous Compute Compiler<a class="headerlink" href="#hcc-heterogeneous-compute-compiler" title="Permalink to this headline">¶</a></h2>
<p>What is the Heterogeneous Compute (HC) API? It’s a C++ dialect with extensions to launch kernels and manage accelerator memory. It closely tracks the evolution of C++ and will incorporate parallelism and concurrency features as the C++ standard does. For example, HC includes early support for the C++17 Parallel STL. At the recent ISO C++ meetings in Kona and Jacksonville, the committee was excited about enabling the language to express all forms of parallelism, including multicore CPU, SIMD and GPU. We’ll be following these developments closely, and you’ll see HC move quickly to include standard C++ capabilities.</p>
<p>The Heterogeneous Compute Compiler (HCC) provides two important benefits:</p>
<p><strong>Ease of development</strong></p>
<blockquote>
<div><ul class="simple">
<li>A full C++ API for managing devices, queues and events</li>
<li>C++ data containers that provide type safety, multidimensional-array indexing and automatic data management</li>
<li>C++ kernel-launch syntax using parallel_for_each plus C++11 lambda functions</li>
<li>A single-source C++ programming environment—the host and source code can be in the same source file and use the same C++           language;templates and classes work naturally across the host/device boundary</li>
<li>HCC generates both host and device code from the same compiler, so it benefits from a consistent view of the source code using the
same Clang-based language parser</li>
</ul>
</div></blockquote>
<p><strong>Full control over the machine</strong></p>
<blockquote>
<div><ul class="simple">
<li>Access AMD scratchpad memories (“LDS”)</li>
<li>Fully control data movement, prefetch and discard</li>
<li>Fully control asynchronous kernel launch and completion</li>
<li>Get device-side dependency resolution for kernel and data commands (without host involvement)</li>
<li>Obtain HSA agents, queues and signals for low-level control of the architecture using the HSA Runtime API</li>
<li>Use <a class="reference external" href="https://github.com/RadeonOpenCompute/HCC-Native-GCN-ISA">direct-to-ISA</a> compilation</li>
</ul>
</div></blockquote>
<p><strong>When to Use HC</strong></p>
<p>Use HC when you’re targeting the AMD ROCm platform: it delivers a single-source, easy-to-program C++ environment without compromising
performance or control of the machine.</p>
</div>
<div class="section" id="hip-heterogeneous-computing-interface-for-portability">
<h2>HIP: Heterogeneous-Computing Interface for Portability<a class="headerlink" href="#hip-heterogeneous-computing-interface-for-portability" title="Permalink to this headline">¶</a></h2>
<p>What is Heterogeneous-Computing Interface for Portability (HIP)? It’s a C++ dialect designed to ease conversion of Cuda applications to portable C++ code. It provides a C-style API and a C++ kernel language. The C++ interface can use templates and classes across the
host/kernel boundary.</p>
<p>The Hipify tool automates much of the conversion work by performing a source-to-source transformation from Cuda to HIP. HIP code can run on AMD hardware (through the HCC compiler) or Nvidia hardware (through the NVCC compiler) with no performance loss compared with the original Cuda code.</p>
<p>Programmers familiar with other GPGPU languages will find HIP very easy to learn and use. AMD platforms implement this language using the HC dialect described above, providing similar low-level control over the machine.</p>
<p><strong>When to Use HIP</strong></p>
<p>Use HIP when converting Cuda applications to portable C++ and for new projects that require portability between AMD and Nvidia. HIP provides a C++ development language and access to the best development tools on both platforms.</p>
<p><strong>OpenCL™: Open Compute Language</strong></p>
<p>What is OpenCL? It’s a framework for developing programs that can execute across a wide variety of heterogeneous platforms. AMD, Intel
and Nvidia GPUs support version 1.2 of the specification, as do x86 CPUs and other devices (including FPGAs and DSPs). OpenCL provides a C run-time API and C99-based kernel language.</p>
<p><strong>When to Use OpenCL</strong></p>
<p>Use OpenCL when you have existing code in that language and when you need portability to multiple platforms and devices. It runs on
Windows, Linux and Mac OS, as well as a wide variety of hardware platforms (described above).</p>
<p><strong>Anaconda Python With Numba</strong></p>
<p>What is Anaconda? It’s a modern open-source analytics platform powered by Python. Continuum Analytics, a ROCm platform partner,  is the driving force behind it. Anaconda delivers high-performance capabilities including acceleration of HSA APUs, as well as
ROCm-enabled discrete GPUs via Numba. It gives superpowers to the people who are changing the world.</p>
<p><strong>Numba</strong></p>
<p>Numba gives you the power to speed up your applications with high-performance functions written directly in Python. Through a few
annotations, you can just-in-time compile array-oriented and math-heavy Python code to native machine instructions—offering
performance similar to that of C, C++ and Fortran—without having to switch languages or Python interpreters.</p>
<p>Numba works by generating optimized machine code using the LLVM compiler infrastructure at import time, run time or statically
(through the included Pycc tool). It supports Python compilation to run on either CPU or GPU hardware and is designed to integrate with Python scientific software stacks, such as NumPy.</p>
<p><strong>When to Use Anaconda</strong></p>
<p>Use Anaconda when you’re handling large-scale data-analytics,
scientific and engineering problems that require you to manipulate
large data arrays.</p>
</div>
<div class="section" id="wrap-up">
<h2>Wrap-Up<a class="headerlink" href="#wrap-up" title="Permalink to this headline">¶</a></h2>
<p>From a high-level perspective, ROCm delivers a rich set of tools that
allow you to choose the best language for your application.</p>
<blockquote>
<div><ul class="simple">
<li>HCC (Heterogeneous Compute Compiler) supports HC dialects</li>
<li>HIP is a run-time library that layers on top of HCC (for AMD ROCm platforms; for Nvidia, it uses the NVCC compiler)</li>
<li><dl class="first docutils">
<dt>The following will soon offer native compiler support for the GCN ISA:</dt>
<dd><ul class="first last">
<li>OpenCL 1.2+</li>
<li>Anaconda (Python) with Numba</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>All are open-source projects, so you can employ a fully open stack from the language down to the metal. AMD is committed to providing an open ecosystem that gives developers the ability to choose; we are excited about innovating quickly using open source and about
interacting closely with our developer community. More to come soon!</p>
</div>
<div class="section" id="table-comparing-syntax-for-different-compute-apis">
<h2>Table Comparing Syntax for Different Compute APIs<a class="headerlink" href="#table-comparing-syntax-for-different-compute-apis" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="12%" />
<col width="13%" />
<col width="17%" />
<col width="19%" />
<col width="21%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Term</td>
<td>CUDA</td>
<td>HIP</td>
<td>HC</td>
<td>C++AMP</td>
<td>OpenCL</td>
</tr>
<tr class="row-even"><td>Device</td>
<td>int deviceId</td>
<td>int deviceId</td>
<td>hc::accelerator</td>
<td>concurrency::
accelerator</td>
<td>cl_device</td>
</tr>
<tr class="row-odd"><td>Queue</td>
<td>cudaStream_t</td>
<td>hipStream_t</td>
<td>hc::
accelerator_view</td>
<td>concurrency::
accelerator_view</td>
<td>cl_command_queue</td>
</tr>
<tr class="row-even"><td>Event</td>
<td>cudaEvent_t</td>
<td>hipEvent_t</td>
<td>hc::
completion_future</td>
<td>concurrency::
completion_future</td>
<td>cl_event</td>
</tr>
<tr class="row-odd"><td>Memory</td>
<td>void *</td>
<td>void *</td>
<td><dl class="first last docutils">
<dt>void <a href="#id1"><span class="problematic" id="id2">*</span></a>; hc::array;</dt>
<dd>hc::array_view</dd>
</dl>
</td>
<td><blockquote class="first">
<div>concurrency::array;</div></blockquote>
<p class="last">concurrency::array_view</p>
</td>
<td>cl_mem</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td rowspan="5">&#160;</td>
<td rowspan="5"><blockquote class="first">
<div>grid</div></blockquote>
<blockquote>
<div>block</div></blockquote>
<blockquote>
<div>thread</div></blockquote>
<blockquote class="last">
<div>warp</div></blockquote>
</td>
<td rowspan="5"><blockquote class="first">
<div>grid</div></blockquote>
<blockquote>
<div>block</div></blockquote>
<blockquote>
<div>thread</div></blockquote>
<blockquote class="last">
<div>warp</div></blockquote>
</td>
<td rowspan="5"><blockquote class="first">
<div>extent</div></blockquote>
<blockquote>
<div>tile</div></blockquote>
<blockquote>
<div>thread</div></blockquote>
<blockquote class="last">
<div>wavefront</div></blockquote>
</td>
<td rowspan="5"><blockquote class="first">
<div>extent</div></blockquote>
<blockquote>
<div>tile</div></blockquote>
<blockquote>
<div>thread</div></blockquote>
<blockquote class="last">
<div>N/A</div></blockquote>
</td>
<td rowspan="5"><blockquote class="first">
<div>NDRange</div></blockquote>
<blockquote>
<div>work-group</div></blockquote>
<blockquote>
<div>work-item</div></blockquote>
<blockquote class="last">
<div>sub-group</div></blockquote>
</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td>Thread index</td>
<td>threadIdx.x</td>
<td>hipThreadIdx_x</td>
<td>t_idx.local[0]</td>
<td>t_idx.local[0]</td>
<td>get_local_id(0)</td>
</tr>
<tr class="row-odd"><td>Block index</td>
<td>blockIdx.x</td>
<td>hipBlockIdx_x</td>
<td>t_idx.tile[0]</td>
<td>t_idx.tile[0]</td>
<td>get_group_id(0)</td>
</tr>
<tr class="row-even"><td>Block  dim</td>
<td>blockDim.x</td>
<td>hipBlockDim_x</td>
<td>t_ext.tile_dim[0]</td>
<td>t_idx.tile_dim0</td>
<td>get_local_size(0)</td>
</tr>
<tr class="row-odd"><td>Grid-dim</td>
<td>gridDim.x</td>
<td>hipGridDim_x</td>
<td>t_ext[0]</td>
<td>t_ext[0]</td>
<td>get_global_size(0)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Device Function</td>
<td>__device__</td>
<td>__device__</td>
<td><dl class="first last docutils">
<dt>[[hc]] (detected</dt>
<dd><dl class="first last docutils">
<dt>automatically in</dt>
<dd>many case)</dd>
</dl>
</dd>
</dl>
</td>
<td>restrict(amp)</td>
<td>Implied in device
Compilation</td>
</tr>
<tr class="row-even"><td>Host Function</td>
<td><dl class="first last docutils">
<dt>__host_</dt>
<dd>(default)</dd>
</dl>
</td>
<td>__host_ (default)</td>
<td>[[cpu]] (default)</td>
<td>strict(cpu) (default)</td>
<td>Implied in host
Compilation</td>
</tr>
<tr class="row-odd"><td>Host +
Device
Function</td>
<td>__host__
__device__</td>
<td><blockquote class="first">
<div>__host_</div></blockquote>
<p class="last">__device__</p>
</td>
<td>[[hc]] [[cpu]]</td>
<td>restrict(amp,cpu)</td>
<td>No equivalent</td>
</tr>
<tr class="row-even"><td>Kernel Launch</td>
<td>&lt;&lt;&lt; &gt;&gt;&gt;</td>
<td>hipLaunchKernel</td>
<td>hc::
parallel_for_each</td>
<td>concurrency::
parallel_for_each</td>
<td>clEnqueueND-
RangeKernel</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Global Memory</td>
<td>__global__</td>
<td>__global__</td>
<td>Unnecessary/
Implied</td>
<td>Unnecessary/Implied</td>
<td>__global</td>
</tr>
<tr class="row-odd"><td>Group Memory</td>
<td>__shared__</td>
<td>__shared__</td>
<td>tile_static</td>
<td>tile_static</td>
<td>__local</td>
</tr>
<tr class="row-even"><td>Constant</td>
<td>__constant__</td>
<td>__constant__</td>
<td>Unnecessary/
Implied</td>
<td>Unnecessary / Implied</td>
<td>__constant</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>__syncthreads</td>
<td>__syncthreads</td>
<td>tile_static.barrier()</td>
<td>t_idx.barrier()</td>
<td>barrier(CLK_LOCAL_MEMFENCE)</td>
</tr>
<tr class="row-odd"><td>Atomic Builtins</td>
<td>atomicAdd</td>
<td>atomicAdd</td>
<td>hc::atomic_fetch_add</td>
<td>concurrency::
atomic_fetch_add</td>
<td>atomic_add</td>
</tr>
<tr class="row-even"><td>Precise Math</td>
<td>cos(f)</td>
<td>cos(f)</td>
<td>hc::
precise_math::cos(f)</td>
<td>concurrency::
precise_math::cos(f)</td>
<td>cos(f)</td>
</tr>
<tr class="row-odd"><td>Fast Math</td>
<td>__cos(f)</td>
<td>__cos(f)</td>
<td>hc::fast_math::cos(f)</td>
<td>concurrency::
fast_math::cos(f)</td>
<td>native_cos(f)</td>
</tr>
<tr class="row-even"><td>Vector</td>
<td>float4</td>
<td>float4</td>
<td>hc::
short_vector::float4</td>
<td>concurrency::
graphics::float_4</td>
<td>float4</td>
</tr>
</tbody>
</table>
<div class="section" id="notes">
<h3>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>For HC and C++AMP, assume a captured _tiled_ext_ named “t_ext” and captured _extent_ named “ext”.  These languages use captured variables to pass information to the kernel rather than using special built-in functions so the exact variable name may vary.</li>
<li>The indexing functions (starting with <code class="docutils literal notranslate"><span class="pre">thread-index</span></code>) show the terminology for a 1D grid.  Some APIs use reverse order of xyz / 012 indexing for 3D grids.</li>
<li>HC allows tile dimensions to be specified at runtime while C++AMP requires that tile dimensions be specified at compile-time.  Thus hc syntax for tile dims is <code class="docutils literal notranslate"><span class="pre">t_ext.tile_dim[0]</span></code> while C++AMP is t_ext.tile_dim0.</li>
<li><strong>From ROCm version 2.0 onwards C++AMP is no longer available in HCC.</strong></li>
</ol>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Thomas Edvalson.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>